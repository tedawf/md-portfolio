---
import { CollectionEntry, getCollection } from "astro:content";
import Link from "../components/Link.astro";
import ProjectCard from "../components/ProjectCard.astro";
import MainLayout from "../layouts/MainLayout.astro";
import filterProjects from "../utils/filterProjects";

const allProjects = await getCollection("projects");
const filteredProjects: CollectionEntry<"projects">[] = filterProjects(
  allProjects,
  { limit: 3 }
);
---

<MainLayout title="Ted | Portfolio">
  <section class="container about" aria-label="About Me">
    <img
      src="/images/headshot.jpg"
      alt="My headshot"
      width="200"
      height="330"
    />
    <div class="content">
      <h1 class="h1">My Portfolio</h1>
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto nam
        a molestias ad. Commodi voluptas provident voluptate voluptatum non
        mollitia aliquid reiciendis odio modi vero impedit quaerat, repellendus
        sit dolores cumque exercitationem unde! Tempore nulla blanditiis
        consequatur modi cum ipsum?
      </p>
      <Link
        href="mailto:ted.awf@outlook.com"
        style="secondary"
        text="ðŸ‘‹ Say Hello"
      />
    </div>
  </section>
  <section class="container" aria-label="My Projects">
    <h2 class="h1">My Projects</h2>
    <div class="post-container">
      {
        filteredProjects.map((project) => (
          <ProjectCard data={project.data} url={project.slug} tagType="h3" />
        ))
      }
    </div>
  </section>
</MainLayout>

<style></style>
